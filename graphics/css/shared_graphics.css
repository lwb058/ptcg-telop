/* 
  PTCG Telop Shared Graphic Styles
  Contains common styles used by main.html, extra.html, etc.
*/

:root {
    /* All fonts are now defined in css/fonts.css */
    --font-numeric: 'Sora', sans-serif;
    --font-damage: 'Roboto Mono', sans-serif;
    --color-bg-panel: #3db1ff;
    --color-bg-module: #0a406d;
    --module-border: 2px;
    --module-border-radius: 8px;
    --module-color-border: #ffffff;
    --image-border: 3px;
    --text-light: #F3F4F6;
    --text-dark: #9CA3AF;
    --sub-color: #3db1ffbd;
    --third-color: #1a59be83;
    --hp-high: #22C55E;
    --hp-medium: #F59E0B;
    --hp-low: #da0000;
    --hp-border:2px;
    --hp-border-color:#ffffff;
    --ability-tag-color: #d4000e;
}

body, html { 
    margin: 0; 
    padding: 0; 
    width: 1920px; 
    height: 1080px; 
    font-family: var(--font-main-lang, sans-serif); 
    color: var(--text-light); 
    background-color: transparent; 
    overflow: hidden; 
}

.overlay-frame { 
    width: 100%; 
    height: 100%; 
    display: flex; 
    justify-content: space-between; 
    position: relative; 
}

/* --- Common Bench Styles --- */
.bench-slots { display: flex; flex-direction: column; gap: 5px; }
.bench-slot {
    height: 108px;
    flex-grow: 1;
    padding: 5px;
    border-radius: 6px; 
    box-sizing: border-box;
    background-color: var(--color-bg-module);
    background-image: url('/assets/ptcg-telop/element/bench-bg.png');
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
    border: var(--module-border) solid var(--module-color-border);
    position: relative;
}
.bench-pokemon-wrapper { display: flex; align-items: flex-start; gap: 5px; width: 100%; height: 100%; }
.bench-card-image-area { position: relative; width: 142px; height: 88px; margin: 0 auto; display: flex; flex-shrink: 0; overflow: hidden; border-radius: 4px; border: var(--image-border) solid var(--module-color-border); }
.bench-pokemon-image { position: absolute; width: 171.4px; height: auto; top: -26.5px; left: -13.8px; }
.bench-pokemon-image.is-v { top: -54.5px; }
.bench-attached-energies { position: absolute; bottom: -2px; left: -2px; display: flex; gap: 1px; }
.bench-attached-energies:not(:empty) { background-color: var(--module-color-border); border-radius: 0px 11px 0px 0px; padding: 1px; border: 1px solid var(--module-color-border); box-shadow: 1px 1px 3px rgba(0,0,0,0.6); }
.bench-attached-energies .energy-icon { width: 14px; height: 14px; }
.energy-count-group { display: flex; align-items: center; gap: 2px; }
.energy-count-number { font-family: var(--font-numeric); font-weight: bold; color: #212121; text-shadow: 0 0 2px white; }
.bench-attached-energies .energy-count-number { font-size: 14px; padding-right: 4px; }
.bench-attached-tools-wrapper { position: absolute; bottom: 2px; right: 2px; z-index: 10; display: grid; grid-template-columns: repeat(2, 36px); justify-items: start; gap: 2px 6px; transform: rotate(180deg); }
.bench-attached-tool-item { width: 36px; height: 23px; overflow: hidden; border-radius: 3px; border: var(--module-border) solid var(--module-color-border); box-shadow: 2px 2px 5px rgba(0,0,0,0.7); position: relative; }
.bench-attached-tool-item img { position: absolute; width: 42.63px; height: auto; left: -3.79px; top: -28.44px; transform: rotate(180deg); }
.bench-info-area { flex-grow: 1; display: flex; flex-direction: column; justify-content: flex-start; gap: 4px; overflow: hidden; }
.bench-pokemon-name { font-size: 16px; font-weight: bold; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; height: 21px; display: flex; align-items: flex-end; }
.bench-hp-gauge { display: flex; align-items: center; }
.bench-hp-text { position: absolute; top: 0; left: 0; right: 0; bottom: 0; display: flex; align-items: center; justify-content: flex-end; padding-right: 5px; font-family: var(--font-numeric); font-size: 11px; font-weight: bold; color: white; text-shadow: 1px 1px 1px black; z-index: 2; }
.bench-hp-bar-container { position: relative; flex-grow: 1; height: 16px; background-color: rgba(0, 0, 0, 0.5); border-radius: 8px; overflow: hidden; border: var(--hp-border) solid var(--hp-border-color); }
.bench-hp-bar { height: 100%; transition: width 0.5s ease-in-out, background-color 0.5s ease; }
.bench-skills-container { display: flex; flex-direction: column; justify-content: space-around; flex-grow: 0; overflow: hidden; height: 44px; }
.bench-skill-row-wrapper { position: relative; height: 20px; }
.bench-skill { display: grid; grid-template-columns: 1fr 40px; width: 100%; height: 100%; align-items: center; background-color: var(--third-color); border-radius: 6px; gap: 4px; }
.bench-energy-cost-container, .bench-skill-ability-tag { position: absolute; left: 0; top: 0; z-index: 1; }
.bench-energy-cost-container { background-color: rgb(201, 201, 201); border-radius: 3px 9px 9px 3px; height: 20px; display: inline-flex; align-items: center; padding: 0 2px; box-sizing: border-box; gap: 1px; }
.bench-energy-cost-container .energy-icon { width: 14px; height: 14px; margin-left: 0px; }
.bench-skill-ability-tag { background-color: var(--ability-tag-color); color: white; font-size: 12px; border-radius: 3px 9px 9px 3px; font-weight: bold; width: 50px; height: 20px; display: flex; align-items: center; justify-content: center; box-sizing: border-box; font-style: italic; transition: filter 0.3s ease; filter: grayscale(0) }
.bench-skill-name-wrapper { display: flex; align-items: center; gap: 4px; overflow: hidden; padding-left: 80px; }
.bench-skill-name { font-size: 12px; font-weight: 900; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.bench-skill-name.is-ability { color: var(--ability-tag-color); }
.bench-skill-damage { font-family: var(--font-numeric);font-size: 14px; font-weight: bold; text-align: right; padding-right: 8px; white-space: nowrap; }

/* --- Common Utility Classes --- */
.battle-skill-ability-tag.used, .bench-skill-ability-tag.used { background-color: #9e9e9e;}
.battle-skill-name.is-ability.used, .bench-skill-name.is-ability.used { color: #9e9e9e; }
.hidden { opacity: 0; visibility: hidden; pointer-events: none; transition: opacity 0.2s, visibility 0.2s; }
.is-empty { opacity: 0; pointer-events: none; }

/* --- Common Animation Styles --- */
@keyframes slide-out-left { from { transform: translateX(0); opacity: 1; } to { transform: translateX(-120%); opacity: 0; } }
@keyframes slide-in-left { 0%, 15% { transform: translateX(-120%); opacity: 0; } 100% { transform: translateX(0); opacity: 1; } }
@keyframes slide-out-right { from { transform: translateX(0); opacity: 1; } to { transform: translateX(120%); opacity: 0; } }
@keyframes slide-in-right { 0%, 15%  { transform: translateX(120%); opacity: 0; } 100% { transform: translateX(0); opacity: 1; } }

.anim-slide-out-L, .anim-slide-out-R {
    animation-duration: 0.5s;
    animation-fill-mode: forwards;
}
.anim-slide-in-L, .anim-slide-in-R {
    animation-duration: 0.5s;
    animation-fill-mode: forwards;
    pointer-events: auto;
}

.anim-slide-out-L { animation-name: slide-out-left; }
.anim-slide-in-L { animation-name: slide-in-left; }
.anim-slide-out-R { animation-name: slide-out-right; }
.anim-slide-in-R { animation-name: slide-in-right; }

/* --- Animation for Tool Card Attachment --- */
@keyframes tool-appear {
    from { transform: scale(0.5); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
}
.anim-tool-appear {
    animation: tool-appear 0.3s ease-out forwards;
}

@keyframes tool-disappear {
    from { transform: scale(1); opacity: 1; }
    to { transform: scale(0.5); opacity: 0; }
}
.anim-tool-disappear {
    animation: tool-disappear 0.3s ease-in forwards;
}

@keyframes container-fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
}
.tools-fade-in {
    animation: container-fade-in 0.2s ease-out forwards;
}

@keyframes scale-in-tool {
    from { transform: scale(1.1); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
}
.anim-scale-in-tool {
    animation: scale-in-tool 0.1s ease-out forwards;
}

/* --- Attack FX Animations --- */
@keyframes flash-white {
    0%, 100% { filter: brightness(1); }
    50% { filter: brightness(2.5); }
}
.anim-flash-white { animation: flash-white 0.1s ease 2; }

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    20% { transform: translateX(-5px) translateY(4px); }
    40% { transform: translateX(4px) translateY(-3px); }
    75% { transform: translateX(2px) translateY(1px); }
}
.anim-shake { animation: shake 0.1s ease-in-out 2; }

.hit-effect {
    position: absolute;
    z-index: 400;
    pointer-events: none;
}

@keyframes show-and-fade-up {
    0% { opacity: 0; transform: translate(-50%, -50%) scale(1.5); }
    10% { opacity: 1; transform: translate(-50%, -50%) scale(1.0); }
    90% { opacity: 1; transform: translate(-50%, -50%) scale(1.0); }
    100% { opacity: 0; transform: translate(-50%, -50%) scale(1.0); }
}

/* --- Damage/Heal Number FX --- */
.damage-number, .heal-number {
    font-family: var(--font-damage);
    position: absolute;
    font-weight: 900;
    z-index: 500;
    pointer-events: none;
    animation: show-and-fade-up 1.5s ease-out forwards;
}

.damage-number { color: #fff9dd; }
.heal-number { color: #dcffe3; }

.damage-number-bench {
    font-size: 40px;
    text-shadow: 2px 2px 0 #750000, -2px -2px 0 #750000, 2px -2px 0 #750000, -2px 2px 0 #750000, 4px 4px 6px #000000cc;
}
.heal-number-bench {
    font-size: 40px;
    text-shadow: 2px 2px 0 #1aa541, -2px -2px 0 #1aa541, 2px -2px 0 #1aa541, -2px 2px 0 #1aa541, 4px 4px 6px #000000cc;
}

/* --- Preloader --- */
#video-preloader {
    position: absolute;
    width: 1px;
    height: 1px;
    overflow: hidden;
    left: -9999px;
    top: -9999px;
    visibility: hidden;
    pointer-events: none;
}